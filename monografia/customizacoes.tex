% ====================================================================
% COMANDOS E AMBIENTES CUSTOMIZADOS
% Arquivo opcional para estender funcionalidades do template
% Para usar: \input{customizacoes} no preâmbulo do documento principal
% ====================================================================

% ====================================================================
% COMANDOS ÚTEIS
% ====================================================================

% Fonte para tabelas
\newcommand{\fonte}[1]{%
  \vspace{-0.3cm}
  \begin{flushleft}
  \footnotesize\textbf{Fonte:} #1
  \end{flushleft}
}

% Nota para tabelas/figuras
\newcommand{\nota}[1]{%
  \vspace{-0.2cm}
  \begin{flushleft}
  \footnotesize\textbf{Nota:} #1
  \end{flushleft}
}

% Sigla com definição na primeira vez
\usepackage{xspace}
\newcommand{\sigla}[2]{#1 (#2)\xspace}

% ====================================================================
% AMBIENTES PARA CÓDIGO (útil para TCCs de ADS)
% ====================================================================

\usepackage{listings}
\usepackage{xcolor}

% Cores para código
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Estilo para código
\lstdefinestyle{codigo}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    rulecolor=\color{black}
}

\lstset{style=codigo}

% Comandos para linguagens específicas
\newcommand{\java}[1]{\lstinputlisting[language=Java]{#1}}
\newcommand{\python}[1]{\lstinputlisting[language=Python]{#1}}
\newcommand{\javascript}[1]{\lstinputlisting[language=JavaScript]{#1}}
\newcommand{\sql}[1]{\lstinputlisting[language=SQL]{#1}}

% Código inline
\newcommand{\codigo}[1]{\lstinline{#1}}

% ====================================================================
% DIAGRAMAS UML COM PLANTUML
% ====================================================================

% Para usar PlantUML diretamente no LaTeX (requer configuração externa)
% Alternativa: gerar imagens PNG/PDF do PlantUML e incluir como figuras

% ====================================================================
% QUADROS (diferente de tabelas, para conteúdo textual)
% ====================================================================

\newcommand{\listofquadrosname}{Lista de Quadros}
\newlistof{quadros}{loq}{\listofquadrosname}
\newcommand{\quadroname}{Quadro}
\newfloat{quadro}{loq}{Quadro}

% Ambiente para quadro
\newenvironment{quadroenv}[1][htbp]{%
  \begin{quadro}[#1]
  \centering
}{%
  \end{quadro}
}

% ====================================================================
% COMANDOS PARA ABREVIATURAS TÉCNICAS COMUNS
% ====================================================================

\newcommand{\API}{API\xspace}
\newcommand{\HTTP}{HTTP\xspace}
\newcommand{\HTTPS}{HTTPS\xspace}
\newcommand{\JSON}{JSON\xspace}
\newcommand{\XML}{XML\xspace}
\newcommand{\SQL}{SQL\xspace}
\newcommand{\REST}{REST\xspace}
\newcommand{\CRUD}{CRUD\xspace}
\newcommand{\MVC}{MVC\xspace}
\newcommand{\IoT}{IoT\xspace}
\newcommand{\MQTT}{MQTT\xspace}
\newcommand{\WiFi}{Wi-Fi\xspace}

% ====================================================================
% AMBIENTE PARA REQUISITOS
% ====================================================================

% Requisitos Funcionais
\newcounter{reqfunc}
\newenvironment{requisitofuncional}[1]{%
  \refstepcounter{reqfunc}%
  \noindent\textbf{RF\thereqfunc{} -- #1}\\
}{%
  \par\vspace{0.5\baselineskip}
}

% Requisitos Não-Funcionais
\newcounter{reqnfunc}
\newenvironment{requitonaofuncional}[1]{%
  \refstepcounter{reqnfunc}%
  \noindent\textbf{RNF\thereqnfunc{} -- #1}\\
}{%
  \par\vspace{0.5\baselineskip}
}

% ====================================================================
% AMBIENTE PARA CASOS DE USO
% ====================================================================

\newcounter{casouso}
\newenvironment{casouso}[1]{%
  \refstepcounter{casouso}%
  \noindent\textbf{UC\thecasouso{} -- #1}\\
  \begin{description}[leftmargin=3cm,style=nextline,font=\normalfont\bfseries]
}{%
  \end{description}
  \par\vspace{0.5\baselineskip}
}

% ====================================================================
% GLOSSÁRIO TÉCNICO
% ====================================================================

% Para criar um glossário automático
\usepackage[toc,acronym]{glossaries}
\makeglossaries

% Exemplo de entrada de glossário
% \newglossaryentry{api}{
%   name=API,
%   description={Application Programming Interface - Interface de Programação de Aplicações}
% }

% ====================================================================
% CITAÇÃO DE DOCUMENTAÇÃO TÉCNICA
% ====================================================================

% Para citar documentação online/técnica
\newcommand{\citedoc}[2]{%
  \href{#2}{#1}\footnote{Disponível em: \url{#2}}
}

% ====================================================================
% AMBIENTES PARA DESIGN THINKING
% ====================================================================

% Útil para TCCs que usam Design Thinking como metodologia

\newtcolorbox{imersao}[1][]{
  colback=blue!5!white,
  colframe=blue!75!black,
  title=Fase: Imersão,
  #1
}

\newtcolorbox{ideacao}[1][]{
  colback=green!5!white,
  colframe=green!75!black,
  title=Fase: Ideação,
  #1
}

\newtcolorbox{prototipacao}[1][]{
  colback=orange!5!white,
  colframe=orange!75!black,
  title=Fase: Prototipação,
  #1
}

% ====================================================================
% COMANDOS PARA CRONOGRAMA
% ====================================================================

\usepackage{pgfgantt}

% Exemplo de uso:
% \begin{ganttchart}{1}{12}
%   \gantttitle{2025}{12} \\
%   \gantttitlelist{1,...,12}{1} \\
%   \ganttbar{Tarefa 1}{1}{3} \\
%   \ganttbar{Tarefa 2}{4}{6}
% \end{ganttchart}

% ====================================================================
% MELHORIAS DE TIPOGRAFIA
% ====================================================================

\usepackage{microtype} % Melhora o espaçamento entre caracteres

% Evita viúvas e órfãs (linhas isoladas)
\widowpenalty=10000
\clubpenalty=10000

% ====================================================================
% FIM DAS CUSTOMIZAÇÕES
% ====================================================================
